<!-- TEST 13:10 -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Triangle Puzzle</title>
<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: black;
}

#puzzle {
  display: grid;
  grid-template-columns: repeat(4, 60px);
  grid-gap: 6px;
}

.triangle {
  width: 0;
  height: 0;
  border-left: 30px solid transparent;
  border-right: 30px solid transparent;
  border-bottom: 52px solid white;
  cursor: pointer;
  transform-origin: center bottom;
  transition: transform 0.3s;
}

.correct {
  border-bottom-color: limegreen;
}
</style>
</head>
<body>

<div id="puzzle"></div>

<script>
// Settings
const rows = 4;
const cols = 4;

// Create triangles
const puzzle = document.getElementById('puzzle');
let triangles = [];

for (let i = 0; i < rows*cols; i++) {
  const tri = document.createElement('div');
  tri.classList.add('triangle');
  // Random initial rotation: 0, 90, 180, 270
  tri.rotation = [0,90,180,270][Math.floor(Math.random()*4)];
  tri.style.transform = `rotate(${tri.rotation}deg)`;
  puzzle.appendChild(tri);
  triangles.push(tri);

  // Click logic
  tri.addEventListener('click', () => {
    // Rotate triangle 90deg clockwise
    tri.rotation = (tri.rotation + 90) % 360;
    tri.style.transform = `rotate(${tri.rotation}deg)`;

    // Optional: affect neighbor triangles
    const idx = triangles.indexOf(tri);
    const neighbors = [
      idx - 1, // left
      idx + 1, // right
      idx - cols, // top
      idx + cols // bottom
    ];
    neighbors.forEach(n => {
      if (triangles[n]) {
        triangles[n].rotation = (triangles[n].rotation + 90) % 360;
        triangles[n].style.transform = `rotate(${triangles[n].rotation}deg)`;
      }
    });

    checkWin();
  });
}

// Check if all triangles are upright (0deg)
function checkWin() {
  if (triangles.every(t => t.rotation === 0)) {
    alert('You solved the puzzle! ðŸŽ‰');
  }
}
</script>

</body>
</html>
