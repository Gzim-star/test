<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Word Chain Game</title>
<style>
  html, body {
    height: 100%;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    background: #ffffff;
    color: black;
    text-align: center;
  }

  #gameContainer {
    width: 90%;
    max-width: 700px;
    padding: 20px;
    background: #f1f1f1;
    border-radius: 15px;
  }

  h1 {
    font-size: 2.5em;
    margin-bottom: 20px;
    color: #4dd0e1;
  }

  #wordDisplay {
    font-size: 2em;
    margin: 20px 0;
    min-height: 50px;
  }

  #inputContainer {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  #playerWord {
    width: 80%;
    font-size: 1.5em;
    padding: 10px;
    border-radius: 10px;
    border: 1px solid #ccc;
    margin-bottom: 15px;
    text-align: center;
  }

  button {
    padding: 15px 30px;
    font-size: 1.5em;
    border: none;
    border-radius: 10px;
    background: #2e7d32;
    color: white;
    cursor: pointer;
    transition: all 0.2s;
  }

  button:hover {
    background: #4caf50;
  }

  #message {
    margin-top: 20px;
    font-size: 1.5em;
    min-height: 40px;
  }

  @media (max-width: 768px) {
    h1 { font-size: 2em; }
    #wordDisplay { font-size: 1.8em; }
    #playerWord { font-size: 1.3em; }
    button { font-size: 1.3em; padding: 12px 25px; }
  }
</style>
</head>
<body>

<div id="gameContainer">
  <h1>Word Chain Game ðŸ§ </h1>
  <div id="wordDisplay">Start word: Apple</div>

  <div id="inputContainer">
    <input type="text" id="playerWord" placeholder="Type your word here" autofocus>
    <button onclick="playWord()">OK</button>
  </div>

  <div id="message"></div>
</div>

<script>
let currentWord = "Apple";
const usedWords = [currentWord];

// Expanded AI word list
const wordList = [
  "Apple", "Elephant", "Tiger", "Rabbit", "Tree", "Eagle", "Egg", "Giraffe",
  "Fish", "Horse", "Orange", "Grapes", "Snake", "Emu", "Umbrella", "Lion",
  "Nut", "Tapir", "Rat", "Tomato", "Owl", "Lemon", "Night", "Hat", "Turtle",
  "Eel", "Lamb", "Bread", "Dog", "Goat", "Ant", "Seal", "Lily", "Yak", "Kangaroo"
];

function playWord() {
  const playerWord = document.getElementById("playerWord").value.trim();
  const messageDiv = document.getElementById("message");

  if (!playerWord) return;

  const lastChar = currentWord.slice(-1).toLowerCase();
  if (playerWord[0].toLowerCase() !== lastChar) {
    messageDiv.textContent = `âŒ Your word must start with "${lastChar.toUpperCase()}"!`;
    return;
  }

  if (usedWords.includes(playerWord)) {
    messageDiv.textContent = "âŒ This word has already been used!";
    return;
  }

  usedWords.push(playerWord);
  currentWord = playerWord;
  document.getElementById("wordDisplay").textContent = `Your word: ${currentWord}`;
  document.getElementById("playerWord").value = "";
  messageDiv.textContent = "";

  setTimeout(aiTurn, 500);
}

/* ðŸ§  SMART AI */
function aiTurn() {
  const lastChar = currentWord.slice(-1).toLowerCase();

  // Filter words starting with last char and not used
  let possibleWords = wordList.filter(w => w[0].toLowerCase() === lastChar && !usedWords.includes(w));

  if (possibleWords.length === 0) {
    document.getElementById("message").textContent = "ðŸŽ‰ You win! The AI cannot find a word.";
    return;
  }

  // SMART AI: choose a word where next letter is hard for player
  let bestWord = possibleWords[0];
  let maxOptions = -1;

  for (let w of possibleWords) {
    const nextChar = w.slice(-1).toLowerCase();
    const playerOptions = wordList.filter(p => p[0].toLowerCase() === nextChar && !usedWords.includes(p));
    if (playerOptions.length > maxOptions) {
      maxOptions = playerOptions.length;
      bestWord = w;
    }
  }

  usedWords.push(bestWord);
  currentWord = bestWord;
  document.getElementById("wordDisplay").textContent = `AI says: ${currentWord}`;
}
</script>

</body>
</html>
